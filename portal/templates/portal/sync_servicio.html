{% extends "portal/basePortal.html" %}
{% load static %}
{% block contenido %}
<div class="row my-1">    
    <div class="col-6 m-auto caja my-3" style="background: #fff;">
        <div class="cardHeader titulo m-3">
            <h3 class="titulo m-1 p-1"><i class="fas fa-sync"></i> Sincronizar servicios - {{ user }} </h3>            
        </div>        
        <div class="p-2 texto">
            <p>Su cuenta local y la de internet no coinciden. Revise bien todos sus servicios.</br>
            ¿Todos los datos que ve son los correctos? Si continua serán los valores que se le guardarán permanente. ¿Desea continuar?</p>
        </div>        
        <div class="d-flex justify-content-end">
            <form class="my-auto" id="myform_sync" action="{% url 'portal:guardar_servicio' %}" method="POST">
                {% csrf_token %}
                <button id="boton_sync" type="submit" class="btn btn-outline-info">
                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" id="spinner_sync" style='display: none'></span>
                    Si, estoy seguro
                </button>
            </form>
            <a  href="{% url 'portal:dashboard' %}"><button class="btn btn-danger m-3">Cancelar</button></a>
        </div>            
    </div>
</div>
<script>
    const myform_sync = document.getElementById("myform_sync");
    myform_sync.addEventListener("submit", (e) => {       
        document.getElementById('spinner_sync').style.display = 'inline-block';
        document.getElementById('boton_sync').disabled=true;
    });
</script>
{% endblock contenido %}