{% extends "portal/basePortal.html" %}
{% load static %}
{% block contenido %}
<div class="row py-5">   
    <div class="col-8 col-md-6 m-auto text-center">
        <div class="card">            
            <div class="card-header text-white bg-dark">
                Cambiar contraseña:
            </div>            
            <div class="card-body">                
                <form id="myform" action="{% url 'portal:contra' %}"  method="post">
                    {% if mensaje %}
                    <div class="alert alert-warning text-center" role="alert">                   
                        {{ mensaje }}                   
                    </div>               
                    {% endif %}
                    {% csrf_token %}
                    <div class="row">  
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control" id="floatingActual" required name="actual" placeholder="mi contraseña actual...">
                            <label for="floatingActual">Contraseña actual:</label>
                        </div>                   
                    </div>                
                    <div class="row">                    
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control" id="floatingNueva" required name="nueva" placeholder="mi contraseña nueva...">
                            <label for="floatingNueva">Contraseña nueva:</label>
                        </div>                   
                    </div>
                    <div class="row">                    
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control" id="floatingConfirme" required name="confirme" placeholder="mi contraseña nueva otra vez...">
                            <label for="floatingConfirme">Confirme contraseña nueva:</label>
                        </div>                   
                    </div>
                    <button id="boton" class="form-control btn btn-primary" type="submit">
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" id="spinner" style='display: none;'></span>
                        Cambiar
                    </button>
                </form>      
            </div>
        </div>
    </div>
</div>
<script>
    const myform = document.getElementById("myform");
    myform.addEventListener("submit", (e) => {       
        document.getElementById('spinner').style.display = 'inline-block';
        document.getElementById('boton').disabled=true;
    });
</script>
{% endblock contenido %}