{% extends "portal/basePortal.html" %}
{% load static %}
{% block contenido %}
<div class="row py-5">   
    <div class="col-10 offset-1 col-md-8 offset-md-2 text-center">
        <div class="card">            
            <div class="card-header text-white bg-dark">
                Editar perfil:
            </div>            
            <div class="card-body">                
                <form id="myform" action="{% url 'portal:perfil' %}"  method="post">
                    {% if mensaje %}
                    <div class="alert alert-warning text-center" role="alert">                   
                        {{ mensaje }}                   
                    </div>               
                    {% endif %}
                    {% csrf_token %}
                    {{ form }}                    
                    <button id="boton" class="form-control btn btn-primary my-3" type="submit">
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" id="spinner" style='display: none;'></span>
                        Cambiar
                    </button>
                </form>      
            </div>
        </div>
    </div>
</div>
<script>
    const myform = document.getElementById("myform");
    myform.addEventListener("submit", (e) => {       
        document.getElementById('spinner').style.display = 'inline-block';
        document.getElementById('boton').disabled=true;
    });
</script>
{% endblock contenido %}